# **Project Analyzer**

## **概要**

**Project Analyzer** は、指定されたプロジェクトフォルダの構造と内容を分析し、AI (LLM) のコンテキストとして利用しやすいように、**単一のMarkdownファイル**として出力する.NET製のコマンドラインツールです。

主に**Githubのリポジトリ**や**自作のプロジェクトフォルダ**を**NotebookLM**のソースとして使う際に活用できます。

---

## **主な機能**

* **📁 フォルダツリーの生成** プロジェクトのフォルダとファイルの階層構造をツリー形式で `00_ProjectTree.md` に出力します。  
* **📄 統合されたコンテキストの生成** プロジェクト内の全ソースファイルの内容を、シンタックスハイライトと折りたたみ機能付きで**単一のMarkdownファイル (`01_ProjectContext.md`)** に集約して出力します。これにより、大規模なプロジェクトでも見通しの良いコンテキストを作成できます。  
* **⚙️ 柔軟な除外設定** `.projectanalyzerignore` ファイルを使用して、分析から除外したいファイルやフォルダを簡単に指定できます。また、`bin` `obj` `.git` などの一般的なフォルダはデフォルトで除外されます。  
* **💻 クロスプラットフォーム** .NETが動作するWindows, macOS, Linuxの各環境で利用できます。

---

## **必要なもの**

* **.NET SDK** (バージョン 6.0 以降)

---

## **使い方**

### **1\. セットアップ**

このツール（ProjectAnalyzer）のソースコードをローカル環境に準備します。

### **2\. 除外設定（任意）**

分析したくないファイルやフォルダがある場合は、分析対象プロジェクトのルートディレクトリに `.projectanalyzerignore` ファイルを作成し、除外対象を1行に1つずつ記述します。

* `#` で始まる行はコメントとして無視されます。  
* **デフォルトで除外される主な項目:** `bin`, `obj`, `.vs`, `.git`, 出力フォルダ, `.projectanalyzerignore`

**.projectanalyzerignore の記述例:**

```
# IDE/Editor specific
.vscode
.idea
.DS_Store

# Dependencies
node_modules
packages

# Build output
dist
```

### **3\. 分析の実行**

ターミナルを開き、このツール（ProjectAnalyzer）のプロジェクトディレクトリで以下のコマンドを実行します。

**基本的な使い方 (カレントディレクトリを分析し、`output` フォルダに出力):**

```
dotnet run
```

**パスを指定して実行:**

```
dotnet run "\[分析したいプロジェクトのパス\]" "\[出力先のパス\]"
```

**例:**

```
dotnet run "C:\path\to\your\project" "C:\path\to\output"
```

---

## **出力結果**

実行後、指定した出力先フォルダ（デフォルトでは `output`）に以下のファイルが生成されます。

`00_ProjectTree.md` プロジェクト全体のフォルダ構成をツリー形式で示します。  
`01_ProjectContext.md` プロジェクト内のすべてのファイルの内容を一つにまとめたMarkdownファイルです。各ファイルは相対パスと共に記載され、コードブロックはシンタックスハイライト付きで表示されます。  

---

## **プロジェクトの構造**

このツールは、責務の分離原則に基づいたシンプルなアーキテクチャで構成されています。

* `Program.cs`: アプリケーションのエントリーポイント。コマンドライン引数を解釈し、分析処理を起動します。  
* `ProjectAnalyzer.cs`: 分析処理全体を統括するオーケストレーターです。  
* `AnalyzerSettings.cs`: 分析対象のパス情報や除外リストなどの設定を保持します。  
* `SettingsLoader.cs`: `.projectanalyzerignore` ファイルを読み込み、デフォルト設定とマージして設定オブジェクトを生成します。  
* `TreeGenerator.cs`: `00_ProjectTree.md` のフォルダ構成ツリーを生成します。  
* `FileContentGenerator.cs`: 全てのファイルの内容を読み込み、単一の `01_ProjectContext.md` ファイルを生成します。  
* `LanguageMapper.cs`: ファイルの拡張子を、Markdownのシンタックスハイライトで使われる言語識別子にマッピングします。

---

## **ライセンス**

このプロジェクトは **MITライセンス** の下で公開されています。